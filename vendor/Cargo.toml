# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2024"
name = "sigstore"
version = "0.13.0"
authors = ["sigstore-rs developers"]
build = false
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "An experimental crate to interact with sigstore"
readme = "README.md"
license = "Apache-2.0"
repository = "https://github.com/sigstore/sigstore-rs"

[package.metadata.docs.rs]
all-features = true

[features]
bundle = [
    "sign",
    "verify",
]
cached-client = ["dep:cached"]
cert = [
    "dep:aws-lc-rs",
    "rustls-webpki/aws-lc-rs",
]
cosign = [
    "cert",
    "dep:async-trait",
    "dep:cfg-if",
    "dep:oci-client",
    "dep:olpc-cjson",
    "dep:regex",
    "registry",
]
default = [
    "full",
    "native-tls",
]
fulcio = [
    "dep:reqwest",
    "dep:serde_repr",
    "dep:serde_with",
    "dep:webbrowser",
    "oauth",
]
full = [
    "bundle",
    "cached-client",
    "cosign",
    "fulcio",
    "mock-client",
    "rekor",
    "sigstore-trust-root",
]
mock-client = [
    "dep:async-trait",
    "dep:oci-client",
]
native-tls = [
    "oci-client?/native-tls",
    "openidconnect?/native-tls",
    "reqwest?/native-tls",
]
oauth = [
    "dep:openidconnect",
    "dep:reqwest",
]
registry = [
    "dep:async-trait",
    "dep:oci-client",
    "dep:olpc-cjson",
]
rekor = ["dep:reqwest"]
rustls-tls = [
    "oci-client?/rustls-tls",
    "openidconnect?/rustls-tls",
    "reqwest?/rustls-tls",
]
rustls-tls-native-roots = ["oci-client?/rustls-tls-native-roots"]
sign = [
    "cert",
    "dep:hex",
    "dep:json-syntax",
    "dep:sigstore_protobuf_specs",
    "fulcio",
    "rekor",
]
sigstore-trust-root = [
    "dep:futures",
    "dep:futures-util",
    "dep:hex",
    "dep:reqwest",
    "dep:sigstore_protobuf_specs",
    "dep:tough",
    "tokio/sync",
]
test-registry = []
verify = [
    "cert",
    "dep:hex",
    "dep:json-syntax",
    "dep:sigstore_protobuf_specs",
    "fulcio",
    "rekor",
]
wasm = [
    "chrono/wasmbind",
    "getrandom/js",
    "ring?/wasm32_unknown_unknown_js",
]

[lib]
name = "sigstore"
path = "src/lib.rs"

[[example]]
name = "bundle"
path = "examples/bundle/main.rs"

[[example]]
name = "create_log_entry"
path = "examples/rekor/create_log_entry/main.rs"

[[example]]
name = "fulcio_cert"
path = "examples/fulcio/cert/main.rs"

[[example]]
name = "get_log_entry_by_index"
path = "examples/rekor/get_log_entry_by_index/main.rs"

[[example]]
name = "get_log_entry_by_uuid"
path = "examples/rekor/get_log_entry_by_uuid/main.rs"

[[example]]
name = "get_log_info"
path = "examples/rekor/get_log_info/main.rs"

[[example]]
name = "get_log_proof"
path = "examples/rekor/get_log_proof/main.rs"

[[example]]
name = "get_public_key"
path = "examples/rekor/get_public_key/main.rs"

[[example]]
name = "key_pair_gen_and_export"
path = "examples/key_interface/key_pair_gen_and_export/main.rs"

[[example]]
name = "key_pair_gen_sign_verify"
path = "examples/key_interface/key_pair_gen_sign_verify/main.rs"

[[example]]
name = "key_pair_import"
path = "examples/key_interface/key_pair_import/main.rs"

[[example]]
name = "openidconnect"
path = "examples/openidflow/openidconnect/main.rs"

[[example]]
name = "search_index"
path = "examples/rekor/search_index/main.rs"

[[example]]
name = "search_log_query"
path = "examples/rekor/search_log_query/main.rs"

[[example]]
name = "sign"
path = "examples/cosign/sign/main.rs"

[[example]]
name = "verify"
path = "examples/cosign/verify/main.rs"

[[example]]
name = "verify-blob"
path = "examples/cosign/verify-blob/main.rs"

[[example]]
name = "verify-bundle"
path = "examples/cosign/verify-bundle/main.rs"

[dependencies.async-trait]
version = "0.1"
optional = true
default-features = false

[dependencies.base64]
version = "0.22"
features = ["std"]
default-features = false

[dependencies.cached]
version = "0.56"
features = ["async"]
optional = true

[dependencies.cfg-if]
version = "1.0.0"
optional = true
default-features = false

[dependencies.chrono]
version = "0.4"
features = [
    "now",
    "serde",
]
default-features = false

[dependencies.const-oid]
version = "0.9"
features = ["db"]
default-features = false

[dependencies.crypto_secretbox]
version = "0.1"
features = [
    "alloc",
    "salsa20",
]
default-features = false

[dependencies.digest]
version = "0.10"
default-features = false

[dependencies.ecdsa]
version = "0.16"
features = [
    "der",
    "digest",
    "pkcs8",
    "signing",
    "std",
]
default-features = false

[dependencies.ed25519]
version = "2.2"
features = ["alloc"]
default-features = false

[dependencies.ed25519-dalek]
version = "2.1"
features = [
    "alloc",
    "pkcs8",
    "rand_core",
]
default-features = false

[dependencies.elliptic-curve]
version = "0.13"
features = [
    "arithmetic",
    "pem",
    "std",
]
default-features = false

[dependencies.futures]
version = "0.3"
optional = true
default-features = false

[dependencies.futures-util]
version = "0.3"
optional = true
default-features = false

[dependencies.getrandom]
version = "0.2"
optional = true
default-features = false

[dependencies.hex]
version = "0.4"
features = ["std"]
optional = true
default-features = false

[dependencies.json-syntax]
version = "0.12"
features = [
    "canonicalize",
    "serde",
]
optional = true
default-features = false

[dependencies.oci-client]
version = "0.15"
optional = true
default-features = false

[dependencies.olpc-cjson]
version = "0.1"
optional = true
default-features = false

[dependencies.openidconnect]
version = "4.0"
features = [
    "reqwest",
    "reqwest-blocking",
]
optional = true
default-features = false

[dependencies.p256]
version = "0.13"
features = [
    "arithmetic",
    "ecdsa",
    "pem",
    "std",
]
default-features = false

[dependencies.p384]
version = "0.13"
features = [
    "arithmetic",
    "ecdsa",
    "pem",
    "std",
]
default-features = false

[dependencies.pem]
version = "3.0"
features = [
    "serde",
    "std",
]
default-features = false

[dependencies.pkcs1]
version = "0.7"
features = ["std"]
default-features = false

[dependencies.pkcs8]
version = "0.10"
features = [
    "encryption",
    "pem",
    "pkcs5",
    "std",
]
default-features = false

[dependencies.pki-types]
version = "1.11"
default-features = false
package = "rustls-pki-types"

[dependencies.rand]
version = "0.8"
features = [
    "getrandom",
    "std",
]
default-features = false

[dependencies.regex]
version = "1.10"
optional = true
default-features = false

[dependencies.reqwest]
version = "0.12"
features = [
    "json",
    "multipart",
]
optional = true
default-features = false

[dependencies.ring]
version = "0.17"
optional = true
default-features = false

[dependencies.rsa]
version = "0.9"
features = ["std"]
default-features = false

[dependencies.rustls-webpki]
version = "0.103"
features = ["std"]
default-features = false

[dependencies.scrypt]
version = "0.11"
features = [
    "simple",
    "std",
]
default-features = false

[dependencies.serde]
version = "1.0"
features = ["derive"]
default-features = false

[dependencies.serde_json]
version = "1.0"
features = ["std"]
default-features = false

[dependencies.serde_repr]
version = "0.1"
optional = true
default-features = false

[dependencies.serde_with]
version = "3.9"
features = [
    "base64",
    "json",
]
optional = true
default-features = false

[dependencies.sha2]
version = "0.10"
features = ["oid"]
default-features = false

[dependencies.signature]
version = "2.2"
default-features = false

[dependencies.sigstore_protobuf_specs]
version = "0.5"
optional = true
default-features = false

[dependencies.thiserror]
version = "2.0"
features = ["std"]
default-features = false

[dependencies.tls_codec]
version = "0.4"
features = ["derive"]
default-features = false

[dependencies.tokio]
version = "1"
features = ["rt"]
default-features = false

[dependencies.tokio-util]
version = "0.7"
features = ["io-util"]
default-features = false

[dependencies.tough]
version = "0.21"
features = ["http"]
optional = true
default-features = false

[dependencies.tracing]
version = "0.1"
default-features = false

[dependencies.url]
version = "2.5"
default-features = false

[dependencies.webbrowser]
version = "1.0"
optional = true
default-features = false

[dependencies.x509-cert]
version = "0.2"
features = [
    "builder",
    "pem",
    "sct",
    "std",
]
default-features = false

[dependencies.zeroize]
version = "1.8"
default-features = false

[dev-dependencies.anyhow]
version = "1.0"
features = [
    "backtrace",
    "std",
]
default-features = false

[dev-dependencies.assert-json-diff]
version = "2.0"
default-features = false

[dev-dependencies.clap]
version = "4.5"
features = [
    "color",
    "derive",
    "error-context",
    "help",
    "std",
    "suggestions",
    "usage",
]
default-features = false

[dev-dependencies.docker_credential]
version = "1.3"
default-features = false

[dev-dependencies.openssl]
version = "0.10"
default-features = false

[dev-dependencies.rstest]
version = "0.26"
default-features = false

[dev-dependencies.serial_test]
version = "3.1"
default-features = false

[dev-dependencies.tempfile]
version = "3.12"
default-features = false

[dev-dependencies.testcontainers]
version = "0.25"
features = ["aws-lc-rs"]
default-features = false

[dev-dependencies.tracing-subscriber]
version = "0.3"
features = [
    "ansi",
    "env-filter",
    "fmt",
    "smallvec",
    "std",
    "tracing-log",
]
default-features = false

[target.'cfg(not(target_arch = "powerpc64"))'.dependencies.aws-lc-rs]
version = "1"
optional = true

[target.'cfg(target_arch = "powerpc64")'.dependencies.aws-lc-rs]
version = "1"
features = ["bindgen"]
optional = true
